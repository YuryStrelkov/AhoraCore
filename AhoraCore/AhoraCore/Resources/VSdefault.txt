#version 330
layout (location = 0) in vec3 p_position;
layout (location = 1) in vec2 p_TexCoord;
layout (location = 2) in vec3 p_normal;

out vec3 v_Colour;
out vec2 v_TexCoord;
out vec3 v_normal;

uniform mat4 transformationMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;

void main(){

    mat4 viewTransform=viewMatrix * transformationMatrix ;
	
	gl_Position = projectionMatrix * viewTransform* vec4(p_position,1.0);

	v_normal = (viewTransform*vec4(p_normal,1.0)).xyz;

	v_TexCoord = p_TexCoord;

	v_Colour = dot((p_normal*0.5+0.5), vec3(1,-1,1))*vec3(0.6,0.8,1);
}