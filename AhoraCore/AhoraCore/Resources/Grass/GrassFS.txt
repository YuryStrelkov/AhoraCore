#version 330

layout(location = 0) out vec4 outColor;

in vec2 uvCoord;

in vec3 normal;

const vec3 direction = vec3(0.333,-0.333,0.333);

const float intensity = 1.2;

uniform sampler2D grassMap;

float diffuse(vec3 dir, vec3 n, float i)
{
	return max(0.01, dot(n,dir) * i);
}

void main()
{
	vec4 color = texture(grassMap,uvCoord);
	if(color.a<0.2)
	{
	discard;
	}


	float diffuse = diffuse(direction, normal, intensity);

	
	outColor = vec4(color.rgb,color.a);

}